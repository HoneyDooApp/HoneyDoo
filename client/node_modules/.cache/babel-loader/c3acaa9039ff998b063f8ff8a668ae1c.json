{"ast":null,"code":"var _jsxFileName = \"/Users/codex/Desktop/bootcamp/Bootcamp_coding/HoneyDoo/client/src/pages/Logout.js\";\nimport React, { useEffect } from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport { useStoreContext } from \"../utils/GlobalStore\";\nimport fetchJSON from \"../utils/API\";\n\nfunction Logout() {\n  const [{\n    authOk\n  }, dispatch] = useStoreContext();\n\n  async function userLogout() {\n    // call the api to logout (and clear session)\n    const {\n      message\n    } = await fetchJSON('/api/users/logout'); // logout\n\n    dispatch({\n      type: 'USER_LOGOUT',\n      message\n    });\n  }\n\n  useEffect(function () {\n    // attempt to request logout (ONCE on page load)\n    userLogout();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !authOk && /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 26\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }\n  }, \"Please wait, logging out...\"));\n}\n\nexport default Logout;","map":{"version":3,"sources":["/Users/codex/Desktop/bootcamp/Bootcamp_coding/HoneyDoo/client/src/pages/Logout.js"],"names":["React","useEffect","Redirect","useStoreContext","fetchJSON","Logout","authOk","dispatch","userLogout","message","type"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,eAAT,QAAgC,sBAAhC;AACA,OAAOC,SAAP,MAAsB,cAAtB;;AAEA,SAASC,MAAT,GAAiB;AACb,QAAM,CAAC;AAAEC,IAAAA;AAAF,GAAD,EAAaC,QAAb,IAAyBJ,eAAe,EAA9C;;AAGA,iBAAeK,UAAf,GAA2B;AACvB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAc,MAAML,SAAS,CAAE,mBAAF,CAAnC,CAFuB,CAGvB;;AACAG,IAAAA,QAAQ,CAAC;AAAEG,MAAAA,IAAI,EAAE,aAAR;AAAuBD,MAAAA;AAAvB,KAAD,CAAR;AACH;;AAEDR,EAAAA,SAAS,CAAE,YAAU;AACjB;AACAO,IAAAA,UAAU;AACb,GAHQ,EAGN,EAHM,CAAT;AAKA,sBACI,0CACM,CAACF,MAAD,iBAAW,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADjB,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAFJ,CADJ;AAMH;;AAED,eAAeD,MAAf","sourcesContent":["import React, { useEffect } from \"react\"\nimport { Redirect } from 'react-router-dom'\nimport { useStoreContext } from \"../utils/GlobalStore\"\nimport fetchJSON from \"../utils/API\"\n\nfunction Logout(){\n    const [{ authOk }, dispatch ]= useStoreContext()\n\n    \n    async function userLogout(){\n        // call the api to logout (and clear session)\n        const { message } = await fetchJSON( '/api/users/logout' )\n        // logout\n        dispatch({ type: 'USER_LOGOUT', message })\n    }\n    \n    useEffect( function(){\n        // attempt to request logout (ONCE on page load)\n        userLogout()\n    }, [] )\n\n    return (\n        <>\n            { !authOk && <Redirect to='/login' /> }\n            <h1>Please wait, logging out...</h1>\n        </>\n    )\n}\n\nexport default Logout"]},"metadata":{},"sourceType":"module"}